@tailwind base;
@tailwind components;
@tailwind utilities;

@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap");

/* ── Design Tokens ─────────────────────────────────────── */
:root,
[data-theme="dark"] {
  --navy: #15173d;
  --navy-light: #1c1f4a;
  --navy-surface: #1e2152;
  --purple: #982598;
  --purple-light: #b44db4;
  --pink: #e491c9;
  --cream: #f1e9e9;
  --cream-muted: #c7bfbf;
  --text-primary: #f1e9e9;
  --text-muted: rgba(241, 233, 233, 0.55);
  --text-subtle: rgba(241, 233, 233, 0.35);
  --bg-primary: #15173d;
  --bg-surface: rgba(21, 23, 61, 0.55);
  --bg-surface-solid: #1e2152;
  --bg-elevated: rgba(30, 33, 82, 0.7);
  --bg-input: rgba(21, 23, 61, 0.8);
  --border-base: rgba(152, 37, 152, 0.15);
  --border-hover: rgba(228, 145, 201, 0.35);
  --border-active: rgba(152, 37, 152, 0.5);
  --glass-bg: rgba(21, 23, 61, 0.55);
  --glass-blur: 24px;
  --tab-active-bg: rgba(152, 37, 152, 0.2);
  --tab-active-border: rgba(152, 37, 152, 0.2);
  --toast-bg: rgba(21, 23, 61, 0.92);
  --toast-color: #f1e9e9;
  --toast-border: rgba(152, 37, 152, 0.25);
  --scrollbar-track: #15173d;
  --scrollbar-thumb: rgba(152, 37, 152, 0.4);
  --scrollbar-hover: #982598;
  --skeleton-from: rgba(152, 37, 152, 0.08);
  --skeleton-to: rgba(152, 37, 152, 0.15);
  --orb-purple: rgba(152, 37, 152, 0.35);
  --orb-pink: rgba(228, 145, 201, 0.25);
  --orb-cream: rgba(241, 233, 233, 0.12);
  --grid-opacity: 0.03;
  --ray-opacity: 0.7;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-full: 9999px;
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.25);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.3);
  --shadow-glow: 0 0 40px rgba(152, 37, 152, 0.15);
  --shadow-glow-pink: 0 0 40px rgba(228, 145, 201, 0.12);
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme="light"] {
  --navy: #f8f6ff;
  --navy-light: #efe9fb;
  --navy-surface: #f0ecf7;
  --purple: #7c2d8e;
  --purple-light: #9b59b6;
  --pink: #c06aaf;
  --cream: #1e1b2e;
  --cream-muted: #4a4560;
  --text-primary: #1e1b2e;
  --text-muted: rgba(30, 27, 46, 0.6);
  --text-subtle: rgba(30, 27, 46, 0.4);
  --bg-primary: #f8f6ff;
  --bg-surface: rgba(255, 255, 255, 0.75);
  --bg-surface-solid: #f0ecf7;
  --bg-elevated: rgba(255, 255, 255, 0.9);
  --bg-input: rgba(255, 255, 255, 0.85);
  --border-base: rgba(124, 45, 142, 0.12);
  --border-hover: rgba(155, 89, 182, 0.3);
  --border-active: rgba(124, 45, 142, 0.45);
  --glass-bg: rgba(255, 255, 255, 0.65);
  --glass-blur: 20px;
  --tab-active-bg: rgba(124, 45, 142, 0.12);
  --tab-active-border: rgba(124, 45, 142, 0.15);
  --toast-bg: rgba(255, 255, 255, 0.95);
  --toast-color: #1e1b2e;
  --toast-border: rgba(124, 45, 142, 0.15);
  --scrollbar-track: #f8f6ff;
  --scrollbar-thumb: rgba(124, 45, 142, 0.25);
  --scrollbar-hover: #7c2d8e;
  --skeleton-from: rgba(124, 45, 142, 0.06);
  --skeleton-to: rgba(124, 45, 142, 0.12);
  --orb-purple: rgba(124, 45, 142, 0.12);
  --orb-pink: rgba(192, 106, 175, 0.1);
  --orb-cream: rgba(155, 89, 182, 0.06);
  --grid-opacity: 0.02;
  --ray-opacity: 0.35;
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.1);
  --shadow-glow: 0 0 40px rgba(124, 45, 142, 0.08);
  --shadow-glow-pink: 0 0 40px rgba(192, 106, 175, 0.06);
}

* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family:
    "Inter",
    system-ui,
    -apple-system,
    sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  overflow-x: hidden;
  line-height: 1.6;
  transition:
    background 0.3s ease,
    color 0.3s ease;
}

/* ── Scrollbar ─────────────────────────────────────────── */
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}
::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-hover);
}

/* ── Selection ─────────────────────────────────────────── */
::selection {
  background: rgba(152, 37, 152, 0.4);
  color: var(--cream);
}

/* ── Gradient text helper ──────────────────────────────── */
.gradient-text {
  background: linear-gradient(135deg, var(--purple), var(--pink), var(--cream));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-vivid {
  background: linear-gradient(135deg, var(--purple-light), var(--pink));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ── Glass card ────────────────────────────────────────── */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--border-base);
  transition:
    background 0.3s ease,
    border-color 0.3s ease;
}

.glass-hover {
  transition: all var(--transition-base);
}
.glass-hover:hover {
  border-color: var(--border-hover);
  box-shadow: var(--shadow-glow);
  transform: translateY(-1px);
}

/* ── Surface cards ─────────────────────────────────────── */
.surface {
  background: var(--bg-surface);
  border: 1px solid var(--border-base);
  border-radius: var(--radius-lg);
  transition:
    background 0.3s ease,
    border-color 0.3s ease;
}
.surface-elevated {
  background: var(--bg-elevated);
  border: 1px solid var(--border-base);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  transition:
    background 0.3s ease,
    border-color 0.3s ease;
}

/* ── Animated gradient border ──────────────────────────── */
.gradient-border {
  position: relative;
  border-radius: var(--radius-lg);
}
.gradient-border::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: var(--radius-lg);
  padding: 1px;
  background: linear-gradient(
    135deg,
    var(--purple),
    var(--pink),
    var(--cream),
    var(--purple)
  );
  background-size: 300% 300%;
  animation: gradientX 8s ease infinite;
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

@keyframes gradientX {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* ── Button styles ─────────────────────────────────────── */
.btn-primary {
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, #982598, #e491c9);
  color: white;
  font-weight: 600;
  border-radius: var(--radius-md);
  transition: all var(--transition-base);
  box-shadow: 0 2px 8px rgba(152, 37, 152, 0.3);
}
.btn-primary:hover {
  box-shadow: 0 4px 20px rgba(152, 37, 152, 0.45);
  transform: translateY(-1px);
}
.btn-primary:active {
  transform: translateY(0);
}
.btn-primary::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.15),
    transparent
  );
  transition: left 0.5s ease;
}
.btn-primary:hover::after {
  left: 100%;
}

.btn-secondary {
  background: rgba(152, 37, 152, 0.15);
  color: var(--cream);
  font-weight: 500;
  border: 1px solid rgba(152, 37, 152, 0.25);
  border-radius: var(--radius-md);
  transition: all var(--transition-base);
}
.btn-secondary:hover {
  background: rgba(152, 37, 152, 0.25);
  border-color: rgba(152, 37, 152, 0.4);
}

.btn-ghost {
  background: transparent;
  color: rgba(241, 233, 233, 0.7);
  font-weight: 500;
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}
.btn-ghost:hover {
  background: rgba(152, 37, 152, 0.1);
  color: var(--cream);
}

/* Legacy alias */
.btn-shimmer {
  position: relative;
  overflow: hidden;
}
.btn-shimmer::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.15),
    transparent
  );
  transition: left 0.5s ease;
}
.btn-shimmer:hover::after {
  left: 100%;
}

/* ── Floating orbs background ──────────────────────────── */
.orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.3;
  pointer-events: none;
}

/* ── Animated light rays ───────────────────────────────── */
.light-rays {
  position: absolute;
  width: 200vmax;
  height: 200vmax;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    rgba(152, 37, 152, 0.04) 8deg,
    transparent 16deg,
    transparent 45deg,
    rgba(228, 145, 201, 0.035) 53deg,
    transparent 61deg,
    transparent 90deg,
    rgba(152, 37, 152, 0.03) 98deg,
    transparent 106deg,
    transparent 135deg,
    rgba(241, 233, 233, 0.025) 143deg,
    transparent 151deg,
    transparent 180deg,
    rgba(152, 37, 152, 0.04) 188deg,
    transparent 196deg,
    transparent 225deg,
    rgba(228, 145, 201, 0.03) 233deg,
    transparent 241deg,
    transparent 270deg,
    rgba(152, 37, 152, 0.035) 278deg,
    transparent 286deg,
    transparent 315deg,
    rgba(241, 233, 233, 0.02) 323deg,
    transparent 331deg,
    transparent 360deg
  );
  animation: ray-rotate 45s linear infinite;
  opacity: var(--ray-opacity);
  filter: blur(1px);
  transition: opacity 0.5s ease;
}

@keyframes ray-rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* ── Aurora sweep ──────────────────────────────────────── */
.aurora {
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    135deg,
    transparent 30%,
    var(--orb-purple) 40%,
    transparent 50%,
    var(--orb-pink) 60%,
    transparent 70%
  );
  background-size: 400% 400%;
  animation: aurora-drift 20s ease infinite;
  opacity: 0.4;
  filter: blur(100px);
  pointer-events: none;
  transition: opacity 0.5s ease;
}

@keyframes aurora-drift {
  0%,
  100% {
    background-position: 0% 50%;
    transform: rotate(0deg);
  }
  25% {
    background-position: 100% 50%;
  }
  50% {
    background-position: 100% 100%;
    transform: rotate(3deg);
  }
  75% {
    background-position: 0% 100%;
  }
}

/* ── Pulsing ring ──────────────────────────────────────── */
.pulse-ring {
  position: absolute;
  border-radius: 50%;
  border: 1px solid var(--purple);
  opacity: 0;
  animation: pulse-ring-anim 4s ease-out infinite;
}
@keyframes pulse-ring-anim {
  0% {
    transform: scale(0.8);
    opacity: 0.3;
  }
  100% {
    transform: scale(2.5);
    opacity: 0;
  }
}

/* ── Input styles ──────────────────────────────────────── */
input:focus,
textarea:focus {
  outline: none;
  box-shadow:
    0 0 0 2px var(--border-active),
    0 0 20px rgba(152, 37, 152, 0.1);
}
input::placeholder,
textarea::placeholder {
  color: var(--text-subtle);
}

/* ── Code blocks ───────────────────────────────────────── */
.code-block {
  background: var(--bg-surface);
  border: 1px solid var(--border-base);
  border-radius: var(--radius-md);
  font-family: "JetBrains Mono", monospace;
  font-size: 0.8125rem;
  line-height: 1.7;
  overflow-x: auto;
}
.code-block code {
  color: var(--text-primary);
}

/* ── HTTP Method badges ────────────────────────────────── */
.badge-get {
  background: rgba(34, 197, 94, 0.15);
  color: #4ade80;
  border: 1px solid rgba(34, 197, 94, 0.25);
}
.badge-post {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.25);
}
.badge-put {
  background: rgba(251, 191, 36, 0.15);
  color: #fbbf24;
  border: 1px solid rgba(251, 191, 36, 0.25);
}
.badge-delete {
  background: rgba(239, 68, 68, 0.15);
  color: #f87171;
  border: 1px solid rgba(239, 68, 68, 0.25);
}

/* ── Syntax tokens ─────────────────────────────────────── */
.token-key {
  color: #e491c9;
}
.token-string {
  color: #4ade80;
}
.token-number {
  color: #fbbf24;
}
.token-comment {
  color: rgba(241, 233, 233, 0.35);
  font-style: italic;
}
.token-keyword {
  color: #b44db4;
}
.token-url {
  color: #60a5fa;
}

/* ── Toast overrides ───────────────────────────────────── */
[data-sonner-toaster] {
  font-family: "Inter", system-ui, sans-serif !important;
}

/* ── Skeleton loading ──────────────────────────────────── */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--skeleton-from) 0%,
    var(--skeleton-to) 50%,
    var(--skeleton-from) 100%
  );
  background-size: 200% 100%;
  animation: skeleton-pulse 1.5s ease-in-out infinite;
  border-radius: var(--radius-sm);
}
@keyframes skeleton-pulse {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}
